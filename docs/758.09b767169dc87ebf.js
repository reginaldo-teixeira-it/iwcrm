"use strict";(self.webpackChunkiwcrm=self.webpackChunkiwcrm||[]).push([[758],{4758:(J,f,r)=>{r.r(f),r.d(f,{AuthModule:()=>x});var v=r(6814),u=r(1896),i=r(6223),e=r(5879),C=r(6593),w=r(5869),A=r(5881),p=r(3814),b=r(617),h=r(2296),s=r(5195),T=r(6007),U=r(2032),Z=r(4170),y=r(2599);function E(o,n){1&o&&(e.TgZ(0,"mat-error",16),e._uU(1," Please enter a valid email address "),e.qZA())}function I(o,n){1&o&&(e.TgZ(0,"mat-error",17),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function F(o,n){1&o&&(e.TgZ(0,"mat-error",18),e._uU(1," Password is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function P(o,n){1&o&&e._UZ(0,"mat-progress-bar",19)}const M=[{path:"login",component:(()=>{var o;class n{constructor(t,a,m,c){this.router=t,this.titleService=a,this.notificationService=m,this.authenticationService=c}ngOnInit(){this.titleService.setTitle("IWCRM - Login"),this.authenticationService.logout(),this.createForm()}createForm(){const t=localStorage.getItem("savedUserEmail");this.loginForm=new i.nJ({email:new i.p4(t,[i.kI.required,i.kI.email]),password:new i.p4("",i.kI.required),rememberMe:new i.p4(null!==t)})}login(){const t=this.loginForm.get("email")?.value,a=this.loginForm.get("password")?.value,m=this.loginForm.get("rememberMe")?.value;this.loading=!0,this.authenticationService.login(t.toLowerCase(),a).subscribe(c=>{m?localStorage.setItem("savedUserEmail",t):localStorage.removeItem("savedUserEmail");let d=localStorage.getItem("savedUserEmail");console.log("----\x3e "+d),this.router.navigate(["/home"])},c=>{let d="";var g;JSON.parse(c).hasOwnProperty("errorMessage")&&(g=JSON.stringify(c.error.errorMessage)).length>0&&(d=g.replace('"',"").replace('"',"").trim().trimStart().trimEnd()),console.log("Retorno : "+g),this.notificationService.openSnackBar(d),this.loading=!1})}resetPassword(){this.router.navigate(["/auth/password-reset"])}}return(o=n).\u0275fac=function(t){return new(t||o)(e.Y36(u.F0),e.Y36(C.Dx),e.Y36(w.g),e.Y36(A.$))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-login"]],decls:31,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"container","login-container"],["fxFlex","30%","fxFlex.sm","50%","fxFlex.xs","90%",3,"formGroup"],[1,"login-title"],[1,"login-sub-title"],[1,"login-sub-pass"],[1,"full-width"],["id","emailInput","matInput","","placeholder","Email","formControlName","email","autocomplete","email","type","email"],["id","invalidEmailError",4,"ngIf"],["id","requiredEmailError",4,"ngIf"],["id","passwordInput","matInput","","placeholder","Password","formControlName","password","type","password","autocomplete","current-password","value","develop2023@"],["id","requiredPasswordError",4,"ngIf"],["formControlName","rememberMe"],[1,"login-card-button"],["mat-fab","","extended","","id","login","color","primary",3,"disabled","click"],["mat-button","","color","accent","id","resetPassword","type","button",2,"margin-left","1%",3,"click"],["mode","indeterminate",4,"ngIf"],["id","invalidEmailError"],["id","requiredEmailError"],["id","requiredPasswordError"],["mode","indeterminate"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-card")(3,"mat-card-title",2),e._uU(4,"Login"),e.qZA(),e.TgZ(5,"mat-card-subtitle",3),e._uU(6,"Controle de Acessos"),e.qZA(),e._UZ(7,"mat-card-subtitle",3),e.TgZ(8,"mat-card-subtitle",4)(9,"b"),e._uU(10,"Abiente de Testes :"),e.qZA(),e._uU(11," Usuario :dev.mail@infowest.com.br - Senha : develop2023@ "),e.qZA(),e.TgZ(12,"mat-card-content")(13,"mat-form-field",5),e._UZ(14,"input",6),e.YNc(15,E,2,0,"mat-error",7),e.YNc(16,I,4,0,"mat-error",8),e.qZA(),e.TgZ(17,"mat-form-field",5),e._UZ(18,"input",9),e.YNc(19,F,4,0,"mat-error",10),e.qZA(),e.TgZ(20,"div",5)(21,"mat-slide-toggle",11),e._uU(22,"Remember my email address"),e.qZA()()(),e.TgZ(23,"mat-card-actions",12)(24,"button",13),e.NdJ("click",function(){return a.login()}),e.TgZ(25,"mat-icon"),e._uU(26,"login"),e.qZA(),e._uU(27," Login "),e.qZA(),e.TgZ(28,"button",14),e.NdJ("click",function(){return a.resetPassword()}),e._uU(29," Reset Password "),e.qZA()()(),e.YNc(30,P,1,0,"mat-progress-bar",15),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("formGroup",a.loginForm),e.xp6(14),e.Q6J("ngIf",a.loginForm.controls.email.hasError("email")),e.xp6(1),e.Q6J("ngIf",a.loginForm.controls.email.hasError("required")),e.xp6(3),e.Q6J("ngIf",a.loginForm.controls.email.hasError("required")),e.xp6(5),e.Q6J("disabled",a.loginForm.invalid||a.loading),e.xp6(6),e.Q6J("ngIf",a.loading))},dependencies:[v.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.xw,p.Wh,p.yH,b.Hw,h.lW,h.cs,s.a8,s.hq,s.dn,s.$j,s.n5,T.pW,U.Nt,Z.KE,Z.TO,y.Rr],styles:[".login-title[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;align-items:center;margin-left:40%}.login-sub-title[_ngcontent-%COMP%], .login-card-button[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;align-items:center;margin-left:32%}.login-sub-pass[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;align-items:center;margin-left:8%}.mdc-snackbar-label[_ngcontent-%COMP%]{text-align:center}"]}),n})()},{path:"recover-password",component:(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-recover-password"]],decls:2,vars:0,template:function(t,a){1&t&&(e.TgZ(0,"p"),e._uU(1,"recover-password works!"),e.qZA())}}),n})()}];let L=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.Bz.forChild(M),u.Bz]}),n})();var S=r(2019);let x=(()=>{var o;class n{}return(o=n).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[v.ez,S.m,L]}),n})()}}]);